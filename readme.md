# Bayesian Double Feature Allocation for Phenotyping With Electronic Health Records

# Author Contributions Checklist Form

## Data

### Abstract

Chinese electronic health records data. The dataset is based on a physical examination of residents in some districts of a major city in China conducted in 2016. The data contain blood test results measured on 39 testing items. We consider 1000 adults aged from 45 to 102 years.





### Availability 

The data were obtained through collaboration. The data cannot be made public because 
it’s proprietary with protected patient health information 
a new policy from Chinese government came out in 2017 which prevents any health data from China being released, identified or de-identified.
Due to the above two restrictions, unfortunately, the authors are not authorized to release the data.






## Code

### Abstract

R package “dfa” implements the proposed DFA model. It can be used to replicate our simulation results. Rshiny.zip contains the necessary Rshiny code and de-identified results to reproduce the online diagnosis support system.


### Description

The provided code supplement contains the following files:
dfa_1.0.tar.gz: R package source. See below for installation instruction.
Rshiny.zip: R files necessary to reproduce the Rshiny web tool created for this paper.
Demo.R: an R file replicating all the simulations in the paper. 
util.R: helper functions to generate simulated data in the paper.
README.rtf: a more detailed description of the code supplement.


Use the command R CMD INSTALL dfa_1.0.tar.gz to install the R package. The main function is DFA(). 

## Instructions for Use

Run the “Demo.R” code to reproduce the simulation results in the paper. 
The simulated datasets used in the paper are generated by calling function generate_data() which is provided in util.R. Change the parameter scenario for different simulation scenarios.

